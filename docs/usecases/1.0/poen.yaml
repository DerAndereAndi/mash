name: POEN
id: 0x0A
fullName: Power Envelope
specVersion: "1.0"
major: 1
minor: 0
description: >
  Controller sends time-slotted power constraints (envelope) to a device.
  Replaces EEBUS POEN use case. Uses constraint signals for all four bounds.

endpointTypes:
  - INVERTER
  - EV_CHARGER
  - BATTERY
  - HEAT_PUMP
  - WATER_HEATER
  - HVAC
  - APPLIANCE

scenarios:
  - bit: 0
    name: BASE
    description: Power envelope via constraint signals.
    features:
      - feature: Signals
        required: true
        commands:
          - sendConstraintSignal
          - clearSignals
        subscribe: all

      - feature: Electrical
        required: true
        attributes:
          - name: nominalMaxConsumption

  - bit: 1
    name: MEASUREMENT
    description: Measurement telemetry for envelope monitoring.
    features:
      - feature: Measurement
        subscribe: all

commands:
  - signal
