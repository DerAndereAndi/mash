name: LPP
id: 0x02
fullName: Limit Power Production
specVersion: "1.0"
major: 1
minor: 0
description: >
  Controller limits active power production (feed-in) of a device.
  Replaces EEBUS LPP use case. Only applies to bidirectional devices.

endpointTypes:
  - INVERTER
  - BATTERY
  - GRID_CONNECTION

scenarios:
  - bit: 0
    name: BASE
    description: Basic power production limiting.
    features:
      - feature: EnergyControl
        required: true
        attributes:
          - name: acceptsLimits
            requiredValue: true
        commands:
          - setLimit
          - clearLimit
        subscribe: all

      - feature: Electrical
        required: true
        attributes:
          - name: nominalMaxProduction

  - bit: 1
    name: MEASUREMENT
    description: Measurement telemetry for production monitoring.
    features:
      - feature: Measurement
        subscribe: all

  - bit: 2
    name: OVERRIDE
    description: Override tracking.
    features:
      - feature: EnergyControl
        attributes:
          - name: overrideReason
          - name: overrideDirection

commands:
  - limit
  - clear
  - capacity
  - override
