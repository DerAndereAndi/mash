name: LPC
id: 0x01
fullName: Limit Power Consumption
specVersion: "1.0"
major: 1
minor: 0
description: >
  Controller limits active power consumption of a device.
  Replaces EEBUS LPC use case.

endpointTypes:
  - INVERTER
  - EV_CHARGER
  - BATTERY
  - HEAT_PUMP
  - WATER_HEATER
  - HVAC
  - APPLIANCE
  - GRID_CONNECTION

scenarios:
  - bit: 0
    name: BASE
    description: Basic power consumption limiting.
    features:
      - feature: EnergyControl
        required: true
        attributes:
          - name: acceptsLimits
            requiredValue: true
        commands:
          - setLimit
          - clearLimit
        subscribe: all

      - feature: Electrical
        required: true
        attributes:
          - name: nominalMaxConsumption

  - bit: 1
    name: MEASUREMENT
    description: Measurement telemetry for consumption monitoring.
    features:
      - feature: Measurement
        subscribe: all

  - bit: 2
    name: OVERRIDE
    description: Override tracking (DEC-049).
    features:
      - feature: EnergyControl
        attributes:
          - name: overrideReason
          - name: overrideDirection

commands:
  - limit
  - clear
  - capacity
  - override
  - lpc-demo
