# PICS (Protocol Implementation Conformance Statement)
# Sub-Meter Device Profile
#
# Reference implementation for a sub-meter / circuit monitor.
# Use cases: MPD

# Device Identification
device:
  vendor: "Reference"
  product: "Smart Sub-Meter"
  model: "SM-001"
  version: "1.0.0"

# PICS Items
items:
  # Protocol declaration
  MASH.S: 1

  # Communication capabilities
  MASH.S.TRANS.SC: true
  MASH.S.TRANS.PASE: true
  MASH.S.TRANS.MDNS: true
  MASH.S.TRANS.TLS13: true

  # ==========================================================================
  # Use case declarations with per-scenario codes
  # ==========================================================================

  # MPD: Monitor Power Device
  MASH.S.UC.MPD: true
  MASH.S.UC.MPD.S00: true          # BASE
  MASH.S.UC.MPD.S01: true          # ELECTRICAL
  MASH.S.UC.MPD.S02: true          # STATUS

  # ==========================================================================
  # Endpoint declaration
  # ==========================================================================

  MASH.S.E01: SUB_METER            # Endpoint 1: Sub-Meter

  # ==========================================================================
  # Feature Presence
  # ==========================================================================

  MASH.S.E01.ELEC: true            # Electrical
  MASH.S.E01.MEAS: true            # Measurement
  MASH.S.E01.STAT: true            # Status

  # ==========================================================================
  # Electrical (ELEC) Attributes
  # ==========================================================================

  MASH.S.E01.ELEC.A01: true        # phaseCount
  MASH.S.E01.ELEC.A02: true        # phaseMapping
  MASH.S.E01.ELEC.A03: true        # nominalVoltage
  MASH.S.E01.ELEC.A04: true        # nominalFrequency
  MASH.S.E01.ELEC.A05: true        # supportedDirections
  MASH.S.E01.ELEC.A0A: true        # nominalMaxConsumption
  MASH.S.E01.ELEC.A0D: true        # maxCurrentPerPhase

  # ==========================================================================
  # Measurement (MEAS) Attributes
  # ==========================================================================

  MASH.S.E01.MEAS.A01: true        # acActivePower
  MASH.S.E01.MEAS.A0A: true        # acActivePowerPerPhase
  MASH.S.E01.MEAS.A14: true        # acCurrentPerPhase
  MASH.S.E01.MEAS.A15: true        # acVoltagePerPhase
  MASH.S.E01.MEAS.A17: true        # acFrequency
  MASH.S.E01.MEAS.A1E: true        # acEnergyConsumed
  MASH.S.E01.MEAS.A1F: true        # acEnergyProduced

  # ==========================================================================
  # Status (STAT) Attributes
  # ==========================================================================

  MASH.S.E01.STAT.A01: true        # operatingState
  MASH.S.E01.STAT.A03: true        # faultCode

  # ==========================================================================
  # Multi-zone support
  # ==========================================================================

  MASH.S.ZONE.MAX: 2
  MASH.S.ZONE.LOCAL: true
