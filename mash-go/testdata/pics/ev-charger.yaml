# PICS (Protocol Implementation Conformance Statement)
# EV Charger Device Profile
#
# This file describes the capabilities of an EV charger device
# for filtering applicable test cases.

# Device Identification
device:
  vendor: "Example Corp"
  product: "Smart Charger Pro"
  model: "SCP-11"
  version: "1.0.0"

# PICS Items
# Format: MASH.{S|C}[.E<xx>].FEATURE[.TYPE_ID][.Qualifier]: value
items:
  # Protocol declaration
  MASH.S: 1                       # Server/device side

  # Communication capabilities (device-level)
  MASH.S.TRANS.SC: true           # Secure connection supported
  MASH.S.TRANS.PASE: true         # PASE commissioning supported
  MASH.S.TRANS.MDNS: true         # mDNS discovery supported
  MASH.S.TRANS.TLS13: true        # TLS 1.3 supported

  # Use case declarations (from DeviceInfo.useCases)
  MASH.S.UC.LPC: true             # Limit Power Consumption
  MASH.S.UC.MPD: true             # Monitor Power Device
  MASH.S.UC.EVC: true             # EV Charging

  # Endpoint declaration
  MASH.S.E01: EV_CHARGER           # Endpoint 1: EV Charger

  # ==========================================================================
  # Feature Presence (endpoint-level)
  # ==========================================================================

  MASH.S.E01.CTRL: true            # EnergyControl
  MASH.S.E01.ELEC: true            # Electrical
  MASH.S.E01.MEAS: true            # Measurement
  MASH.S.E01.CHRG: true            # ChargingSession

  # ==========================================================================
  # EnergyControl (CTRL) Attributes
  # ==========================================================================

  # Device type & state (mandatory)
  MASH.S.E01.CTRL.A01: true        # deviceType
  MASH.S.E01.CTRL.A02: true        # controlState

  # Control capabilities (mandatory)
  MASH.S.E01.CTRL.A0A: true        # acceptsLimits
  MASH.S.E01.CTRL.A0B: true        # acceptsCurrentLimits
  MASH.S.E01.CTRL.A0C: true        # acceptsSetpoints
  MASH.S.E01.CTRL.A0E: true        # isPausable

  # Failsafe (mandatory)
  MASH.S.E01.CTRL.A46: true        # failsafeConsumptionLimit
  MASH.S.E01.CTRL.A48: true        # failsafeDuration

  # Power limit tracking
  MASH.S.E01.CTRL.A14: true        # effectiveConsumptionLimit
  MASH.S.E01.CTRL.A15: true        # myConsumptionLimit

  # EnergyControl commands
  MASH.S.E01.CTRL.C01.Rsp: true    # SetLimit
  MASH.S.E01.CTRL.C02.Rsp: true    # ClearLimit
  MASH.S.E01.CTRL.C03.Rsp: true    # SetSetpoint
  MASH.S.E01.CTRL.C04.Rsp: true    # ClearSetpoint
  MASH.S.E01.CTRL.C05.Rsp: true    # SetCurrentLimits
  MASH.S.E01.CTRL.C06.Rsp: true    # ClearCurrentLimits
  MASH.S.E01.CTRL.C09.Rsp: true    # Pause
  MASH.S.E01.CTRL.C0A.Rsp: true    # Resume

  # ==========================================================================
  # Electrical (ELEC) Attributes
  # ==========================================================================

  # Mandatory
  MASH.S.E01.ELEC.A01: true        # phaseCount (3-phase)
  MASH.S.E01.ELEC.A02: true        # phaseMapping
  MASH.S.E01.ELEC.A03: true        # nominalVoltage
  MASH.S.E01.ELEC.A04: true        # nominalFrequency
  MASH.S.E01.ELEC.A05: true        # supportedDirections
  MASH.S.E01.ELEC.A0A: true        # nominalMaxConsumption (22 kW)
  MASH.S.E01.ELEC.A0D: true        # maxCurrentPerPhase (32 A)

  # Recommended
  MASH.S.E01.ELEC.A0E: true        # minCurrentPerPhase (6 A)

  # ==========================================================================
  # Measurement (MEAS) Attributes
  # ==========================================================================

  # Mandatory
  MASH.S.E01.MEAS.A01: true        # acActivePower

  # Recommended
  MASH.S.E01.MEAS.A14: true        # acCurrentPerPhase
  MASH.S.E01.MEAS.A15: true        # acVoltagePerPhase
  MASH.S.E01.MEAS.A1E: true        # acEnergyConsumed

  # ==========================================================================
  # ChargingSession (CHRG) Attributes
  # ==========================================================================

  # Mandatory
  MASH.S.E01.CHRG.A01: true        # state
  MASH.S.E01.CHRG.A02: true        # sessionId
  MASH.S.E01.CHRG.A03: true        # sessionStartTime
  MASH.S.E01.CHRG.A0A: true        # sessionEnergyCharged
  MASH.S.E01.CHRG.A28: true        # evDemandMode
  MASH.S.E01.CHRG.A46: true        # chargingMode
  MASH.S.E01.CHRG.A47: true        # supportedChargingModes

  # ChargingSession commands
  MASH.S.E01.CHRG.C01.Rsp: true    # SetChargingMode

  # ==========================================================================
  # Multi-zone support (device-level)
  # ==========================================================================

  MASH.S.ZONE.MAX: 3               # Maximum 3 zones supported
  MASH.S.ZONE.GRID: true           # Grid zone supported (external/regulatory)
  MASH.S.ZONE.LOCAL: true          # Local zone supported (local energy management)
